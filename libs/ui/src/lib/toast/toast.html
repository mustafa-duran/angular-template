<div
  [attr.data-toast-container]="true"
  [attr.data-theme]="theme()"
  [attr.dir]="dir()"
  [ngClass]="[toasterClasses, positionClasses(), className()]"
  [ngStyle]="containerStyles()"
  (mouseenter)="onContainerHover('enter')"
  (mouseleave)="onContainerHover('leave')"
>
  @for (toast of visibleToastsList(); track toast.id; let idx = $index; let count = $count) {
    <div
      [attr.data-toast-id]="toast.id"
      [attr.data-index]="idx"
      [style.--index]="idx"
      [class]="getToastClasses(toast)"
      [style.z-index]="count - idx"
      [class.removing]="toast.removing"
    >
      <div class="flex flex-1 flex-col gap-1">
        @if (toast.title) {
          <div class="text-sm font-semibold">{{ toast.title }}</div>
        }
        @if (toast.description) {
          <div [class]="toastClasses.description">
            {{ toast.description }}
          </div>
        }
      </div>

      <div class="flex shrink-0 items-center gap-2">
        @if (toast.action || toast.cancel) {
          @if (toast.cancel) {
            <button type="button" [class]="toastClasses.cancelButton" (click)="handleCancel(toast)">
              {{ toast.cancel.label }}
            </button>
          }
          @if (toast.action) {
            <button
              type="button"
              [class]="toastClasses.actionButton"
              (click)="handleAction(toast.action)"
            >
              {{ toast.action.label }}
            </button>
          }
        }

        @if (closeButton() && toast.dismissible) {
          <button
            type="button"
            (click)="dismiss(toast.id)"
            class="rounded-md p-1 transition-opacity hover:bg-secondary/80 focus:outline-none focus:ring-2"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        }
      </div>
    </div>
  }
</div>
